<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CSGOLD Leaderboard</title>
  <style>
    body { font-family: Arial; background:#111; color:#fff; }
    table { margin:auto; border-collapse: collapse; width: 60%; }
    th, td { padding: 10px; border-bottom: 1px solid #333; text-align:center; }
    th { background:#222; }
    tr:nth-child(1) td { color: gold; }
    tr:nth-child(2) td { color: silver; }
    tr:nth-child(3) td { color: #cd7f32; }
  </style>
</head>
<body>

<h1 style="text-align:center;">üèÜ CSGOLD Leaderboard</h1>
<p style="text-align:center;">
  Total wagered amount during the active leaderboard period.
</p>

<table id="lb">
  <tr>
    <th>Rank</th>
    <th>Player</th>
    <th>Total Wagered</th>
  </tr>
</table>

<script>
const SUPABASE_URL = "https://jlidovdvrzhmvcwosumz.supabase.co"
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsaWRvdmR2cnpobXZjd29zdW16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5MDEzMTksImV4cCI6MjA4MTQ3NzMxOX0.A9jmVFOoLfGUlj-KX2gzJZ-Tk3EJdutx1Cz_Dpm9AAs"

fetch(`${SUPABASE_URL}/rest/v1/leaderboard_view?select=*`, {
  headers: {
    apikey: SUPABASE_KEY
  }
})
.then(res => res.json())
.then(data => {
  const table = document.getElementById("lb")
  data.forEach(u => {
    const row = table.insertRow()
    row.insertCell().innerText = u.position
    row.insertCell().innerText = u.username
    row.insertCell().innerText = u.total_wager.toLocaleString()
  })
})
</script>

</body>
</html>
